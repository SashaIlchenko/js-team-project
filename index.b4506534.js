!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a("6dQcf"),a("eRsy4"),a("6f6o8"),a("8AEpj"),a("7ZMDz"),a("3HmWm");var r=a("3HmWm"),s=a("7ZMDz");const{STORAGE_USERS:i,CRT_USER:l}=s.lskeys,d={signUpForm:document.querySelector(".form-signup"),signUpBtn:document.querySelector(".button--signup"),signInForm:document.querySelector(".form-signin"),signInBtn:document.querySelector(".button--signin"),modalOpenBtns:document.querySelectorAll("[data-modal-open]"),modalCloseBtns:document.querySelectorAll("[data-modal-close]"),overlay:document.querySelector(".js-overlay-modal")};function c(e){e.preventDefault();m({userLogin:d.signInForm.elements["user-email"].value,userPassword:d.signInForm.elements["user-password"].value})}function u(e){e.preventDefault();const t=d.signUpForm.elements["user-email"].value,n=d.signUpForm.elements["user-password"].value;!function(e){const{userName:t,userLogin:n,userPassword:o}=e;let a=(0,s.getStorageData)(i);const r={userid:null,username:t,login:n,password:o,queue:[],watched:[]};if(!a)return r.userid=1,a=[r],(0,s.setStorageData)(i,a),void alert("User created!");if(g(n))return void alert("There is already a user with this email!");const l=a.map((e=>e.userid));r.userid=Math.max(...l)+1,a.push(r),(0,s.setStorageData)(i,a),alert("User created!")}({userLogin:t,userPassword:n,userName:d.signUpForm.elements.username.value}),m({userLogin:t,userPassword:n})}function m(e){const{userLogin:t,userPassword:n}=e,o=(0,s.getStorageData)(i);if(o)if(g(t)){const e=o.find((e=>e.login===t));if(e.password===n)return e.userid===(0,s.getStorageData)(l)?void alert("Already logged in!"):((0,s.setStorageData)(l,e.userid),alert("Welcome!"),void document.querySelector(".modal.active").firstElementChild.click());alert("Password incorrect!")}else alert("No user found with this email. Please check your login and password and try again.");else alert("No users yet. Sign-up and become a user!")}function g(e){return(0,s.getStorageData)(i).map((e=>e.login)).includes(e)}(0,r.isOnHomePage)()&&document.addEventListener("DOMContentLoaded",(function(){function e(e){e.preventDefault();const n=this.getAttribute("data-modal-open"),o=document.querySelector('.modal[data-modal="'+n+'"]');"signup"!==e.target.dataset.modalOpen&&"login"!==e.target.dataset.modalOpen||t.call(this),o.classList.add("active"),d.overlay.classList.add("active")}function t(e){const t=this.closest(".modal");t&&(t.classList.remove("active"),d.overlay.classList.remove("active"))}d.modalOpenBtns.forEach((function(t){t.addEventListener("click",e)})),d.modalCloseBtns.forEach((function(e){e.addEventListener("click",t)})),document.body.addEventListener("keyup",(e=>{"Escape"===e.key&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))})),d.overlay.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")})),d.signInBtn.addEventListener("click",c),d.signUpBtn.addEventListener("click",u)})),a("lvyYG"),a("gcQJ6"),a("47Ayw");var v=a("eRsy4"),f=a("6f6o8"),p=a("1VFfL"),y=a("gcQJ6");const S=document.querySelector(".tui-pagination");new(e(p))(S,{totalItems:1e3,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child"}).on("afterMove",(async function(e){var t=e.page;f.galleryList.innerHTML="",(0,f.onFooterFixed)(),(0,y.onSpinnerEnabled)();const n=await(0,v.getTrendMovies)(t);try{(0,y.onSpinnerDisabled)(),(0,f.createMarkupOfTrendingMovies)(n),(0,f.onFooterNoFixed)()}catch(e){console.log(e)}}))}();
//# sourceMappingURL=index.b4506534.js.map
